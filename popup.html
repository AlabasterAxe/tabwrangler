<!-- // chrome-extension://bfbjlhinlheecjobilndbilkfpkmgiao/popup.html -->
<html>
<head>

<script src="lib/jquery/js/jquery-1.7.2.min.js" type="text/javascript"></script>
<script src="lib/bootstrap/js/bootstrap.min.js"></script>
<script src="lib/bootstrap/js/bootstrap-tab.js"></script>

<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.css" type="text/css"/>
<link rel="stylesheet" href="popup.css" type="text/css"/>


<!--
  All of these scripts need to be combined a bit and organized.  But for now, I'm doc'ing what's in them
-->

<!--
   Main namespace and class for the app.  Mostly settings and configuration stuff now.
-->
<script type="text/javascript" src="tw_shared.js"></script>

<!--
   Event handlers for settings form.  Could probably be wrapped in popup.js.
-->
<script type="text/javascript" src="options.js"></script>


<!--
   Makes the auto-lock tab table.
-->
<script type="text/javascript" src="popup-lock.js"></script>
<script type="text/javascript" src="popup-corral.js"></script>
<script type="text/javascript" src="popup.js"></script>
</head>

<body>

<ul class="nav nav-tabs">
  <li><a href="#tabCorral" data-toggle="tab">Tab Corral</a></li>
  <li><a href="#tabActive" data-toggle="tab">Tab Lock</a></li>
  <li><a href="#tabOptions" data-toggle="tab">Options</a></li>
</ul>


<div class="tab-content">

<div class="tab-pane" id="tabOptions">
  <form class="well">
    <div id="status" class="alert alert-success" style="display:none;"></div>
    <fieldset>
      <legend>Settings</legend>
    <p>
      <label for="minutesInactive">Close inactive tabs after:</label>
      <input type="text" id="minutesInactive" class="span1" name="minutesInactive"> minutes.
    </p>

    <p>
      <label for="maxTabs">Save up to:</label>
      <input type="text" id="maxTabs" class="span1" name="maxTabs"> tabs in the "Tab Corral"
    </p>
    </fieldset>

  <fieldset>
    <legend>Auto-Lock</legend>
  <label for="wl_add">tabs with urls "like":</label>
  <input type="text" id="wl_add" /> <button class="btn-mini add-on" onclick="addWL(); return false;">Add</button><br/>
  <select multiple="multiple" id="whitelist"></select>
  <br/>
  <button class="btn" onclick="deleteWL(); return false;" />Delete selected</button>
  <span class="help-block">
    <ol>
      <li>If any item in list matches any part of URL it will match. Example: <i>cnn</i> would match every page on cnn.com and any URL with cnn anywhere in url </li>
      <li>Be aware of the actual URL for the page (Gmail would be mail.google.com NOT gmail.com)</li>
    </ol>
  </span>
  </fieldset>

  <button class="btn" onclick="saveOptions(); return false;">Save</button>

  </form>
</div>


<div class="tab-pane  active" id="tabCorral">
  <div class="alert alert-info">Click the title to re-open the tab</div>

  <div id="corralDyn">
    <table id="corralTable" class="table-striped table table-bordered">
      <thead>
        <tr>
          <th style="width:20px"></th>
          <th>Title</th>
          <th>When</th>
        </tr>
      </thead>
      <!--
         ID is here for BC.  should really be fixed and jQuery based.
      -->
      <tbody id="corralTableBody">
      </tbody>
    </table>

  </div>
</div>

<div class="tab-pane" id="tabActive">
  <div class="alert alert-info">Click the checkbox to lock the tab. <a id="close_unlocked" style="font-size:.8em"
                                                               href="javascript:closeUnlocked()">close all unlocked
    tabs</a></div>

  <br/>

  <div id="activeDyn">
    <table id="activeTable" class="table-striped table table-bordered">
      <thead>
        <tr>
          <th style="width:20px"><img src="lock.png"/></td>
          <th style="width:20px"></td>
          <th>Title</td>
        </tr>
      </thead>
      <!-- Class is a total kludge to keep popup=lock working -->
      <tbody id="activeTableBody">

      </tbody>
    </table>
  </div>
</div>
</body>
